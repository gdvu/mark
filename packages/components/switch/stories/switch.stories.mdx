import { ArgsTable, Story, Canvas, Meta } from '@storybook/addon-docs';
import { useState } from 'react';
import useSwitch from '@raddix/switch';
import './switch.css';

<Meta title='Inputs/useSwitch' />

<!--- Component template -->

export const Switch = props => {
  const { elementProps, state } = useSwitch.Root(props);
  const { elementProps: switchThumbProps } = useSwitch.Thumb(state);
  return (
    <button {...elementProps} className='switch'>
      <span {...switchThumbProps} className='switch-thumb'></span>
    </button>
  );
};

# useSwitch

A control that represents the states on and off.

<Canvas>
  <Story
    name='Overview'
    parameters={{
      layout: 'centered'
    }}
  >
    {() => {
      const { elementProps, state } = useSwitch.Root({});
      const { elementProps: switchThumbProps } = useSwitch.Thumb(state);
      return (
        <button {...elementProps} className='switch'>
          <span {...switchThumbProps} className='switch-thumb'></span>
        </button>
      );
    }}
  </Story>
</Canvas>

## Features

- Full support for browser features.
- Full keyboard navigation.
- Labeling support for screen readers.
- Can be controlled or uncontrolled.

## Installation

Install the primitive from your command line.

```sh
yarn add @raddix/switch
```

## Anatomy

Import all or parts of <code>@raddix/switch</code>

```jsx
import useSwitch from '@raddix/switch';

const Switch = props => {
  const { elementProps, state } = useSwitch.Root(props);
  const { elementProps: switchThumbProps } = useSwitch.Thumb(state);

  return (
    <button {...elementProps} className='switch'>
      <span {...switchThumbProps} className='switch-thumb'></span>
    </button>
  );
};
```

## Usage

The following examples show how to use the Switch component created in the above example.

### Default Checked

Switches are not selected by default. To be checked by default using <code>defaultChecked</code> prop

<Canvas>
  <Story name='Default Checked'>
    <Switch defaultChecked />
  </Story>
</Canvas>

### Controlled value

To control the state, use <code>checked</code> property for initial
value. The <code>onChecked</code> event is fired when the <code>checked</code> prop receives the new value.

<Canvas>
  <Story name='Controlled value'>
    {() => {
      const [checked, setChecked] = useState(true);
      return <Switch checked={checked} onChecked={setChecked} />;
    }}
  </Story>
</Canvas>

### Read only

The <code>readOnly</code> prop makes the selection immutable.

<Canvas>
  <Story name='Read only'>
    <Switch defaultChecked readOnly />
  </Story>
</Canvas>

### Disabled

The <code>disabled</code> prop makes switch un-clickable

<Canvas>
  <Story name='Disabled'>
    <Switch defaultChecked disabled />
  </Story>
</Canvas>

### Label Form

Switch supports the integration with HTML tag Label

<Canvas>
  <Story name='Label Forms'>
    {() => {
      return (
        <div className='flex'>
          <label htmlFor='dev' className='label-switch'>
            Living Room Lights
          </label>
          <Switch defaultChecked id='dev' />
        </div>
      );
    }}
  </Story>
</Canvas>
